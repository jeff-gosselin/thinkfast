{"ast":null,"code":"import _toConsumableArray from \"/Users/meghangosselin/Apps/thinkfast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/meghangosselin/Apps/thinkfast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/meghangosselin/Apps/thinkfast/src/components/EndGame.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/EndGame.scss\";\nexport default function EndGame(_ref) {\n  var setIsEnd = _ref.setIsEnd,\n      playerMode = _ref.playerMode,\n      setPlayerMode = _ref.setPlayerMode,\n      nameForPlayer1 = _ref.nameForPlayer1,\n      nameForPlayer2 = _ref.nameForPlayer2,\n      player1Score = _ref.player1Score,\n      setPlayer1Score = _ref.setPlayer1Score,\n      player2Score = _ref.player2Score,\n      setPlayer2Score = _ref.setPlayer2Score,\n      highScores = _ref.highScores,\n      setHighScores = _ref.setHighScores,\n      getAndSetHighScores = _ref.getAndSetHighScores;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isP1HighScore = _useState2[0],\n      setIsP1HighScore = _useState2[1]; // When true will notify of new high score\n\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isP2HighScore = _useState4[0],\n      setIsP2HighScore = _useState4[1]; // When true will notify of new high score\n  // API REQUEST FUNCTIONS\n\n\n  var eliminateScorerFromTopTen = function eliminateScorerFromTopTen(scorerId) {\n    axios.delete(\"https://thinkfast-api.herokuapp.com/scores/\".concat(scorerId)).then(function (response) {\n      console.log(\"\".concat(scorerId, \" has been deleted (p1)\"));\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  var postScorerToTopTen = function postScorerToTopTen(player, player1or2) {\n    axios.post(\"https://thinkfast-api.herokuapp.com/scores\", {\n      name: player.name,\n      score: player.score,\n      date: player.date\n    }).then(function (response) {\n      console.log(\"High score posted for \".concat(player.name));\n\n      if (player1or2 === 1) {\n        setIsP1HighScore(true);\n      } else {\n        setIsP2HighScore(true);\n      }\n\n      getAndSetHighScores(setHighScores);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }; // FUNCTIONS DEALING WITH HIGH SCORES\n  // If in 2 player mode and both score higher than the 10th place score\n\n\n  var determineScoresToPost = function determineScoresToPost(p1, p2) {\n    var tempScores = highScores.slice();\n    tempScores = [].concat(_toConsumableArray(tempScores), [p1, p2]);\n    tempScores.sort(function (a, b) {\n      return b.score - a.score;\n    });\n    var topTen = tempScores.slice(0, 10);\n    var whoMadeTheTopTen = topTen.filter(function (score) {\n      return !score.hasOwnProperty(\"_id\");\n    });\n\n    if (postScores(whoMadeTheTopTen) === 2) {\n      console.log(\"Delete:\", tempScores[10], tempScores[11]);\n      eliminateScorerFromTopTen(tempScores[10]._id);\n      eliminateScorerFromTopTen(tempScores[11]._id);\n    } else {\n      console.log(\"Delete:\", tempScores[11]);\n      liminateScorerFromTopTen(tempScores[11]._id);\n    }\n  };\n\n  var postScores = function postScores(scores) {\n    scores.forEach(function (score) {\n      return console.log(\"Post:\", score);\n    });\n    return scores.length;\n  };\n\n  useEffect(function () {\n    // Get today's date and return as formatted string \"m/yy\"\n    var getTheDate = function getTheDate() {\n      var today = new Date();\n      var month = String(today.getMonth() + 1);\n      var year = String(today.getFullYear()).slice(-2);\n      return \"\".concat(month, \"/\").concat(year);\n    };\n\n    if (playerMode === 2 && player1Score > highScores[9].score && player2Score > highScores[9].score) {}\n  }, [nameForPlayer1]);\n\n  var restart = function restart() {\n    setIsEnd(false);\n    setPlayer1Score(0);\n    setPlayer2Score(0);\n    setIsP1HighScore(false);\n    setIsP2HighScore(false);\n    setPlayerMode(null);\n  }; // MESSAGING FOR END OF GAME (DEPENDS ON PLAYER MODE AND PLAYER'S SCORE)\n\n\n  var endOfGameMessage; // 1 Player Mode\n\n  if (playerMode === 1 && player1Score < 0) {\n    endOfGameMessage = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"farewell-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, \"You are such a negative person!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }, \"You scored \".concat(player1Score, \" points.\")));\n  }\n\n  if (playerMode === 1 && player1Score > 0 && player1Score <= 25) {\n    endOfGameMessage = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"farewell-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, \"You need a lot more practice!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, \"You only scored \".concat(player1Score, \" points.\")));\n  }\n\n  if (playerMode === 1 && player1Score > 25 && player1Score <= 50) {\n    endOfGameMessage = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"farewell-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }, \"You are not too bad at this!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }, \"You scored \".concat(player1Score, \" points.\")));\n  }\n\n  if (playerMode === 1 && player1Score > 50) {\n    endOfGameMessage = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"farewell-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }\n    }, \"You have acheived greatness!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }, \"You scored \".concat(player1Score, \" points.\")));\n  } // 2 Player Mode\n\n\n  if (playerMode === 2 && player1Score === player2Score) {\n    endOfGameMessage = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"farewell-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }\n    }, \"Wow! It is a draw. \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }\n    }, \"You both scored \".concat(player1Score, \" points.\")));\n  }\n\n  if (playerMode === 2 && player1Score > player2Score) {\n    endOfGameMessage = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"farewell-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    }, \"Player 1\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }, \"wins the game!!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }, \"Beating the competition by \".concat(player1Score - player2Score, \" points.\")));\n  }\n\n  if (playerMode === 2 && player1Score < player2Score) {\n    endOfGameMessage = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"farewell-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }\n    }, \"Player 2\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }\n    }, \"wins the game!!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }\n    }, \"Beating the competition by \".concat(player2Score - player1Score, \" points.\")));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"end-game\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 5\n    }\n  }, endOfGameMessage, isP1HighScore && isP2HighScore ? /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"top-score-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }\n  }, \"Congratulations \", nameForPlayer1, \" and \", nameForPlayer2, \", you are both Top 10 Scorers!!\") : isP1HighScore ? /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"top-score-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }, \"Congratulations \", nameForPlayer1, \", you are a Top 10 Scorer!!\") : isP2HighScore ? /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"top-score-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, \"Congratulations \", nameForPlayer2, \", you are a Top 10 Scorer!!\") : null, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return restart();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }\n  }, \"Play Again?\"));\n}","map":{"version":3,"sources":["/Users/meghangosselin/Apps/thinkfast/src/components/EndGame.js"],"names":["React","useState","useEffect","axios","EndGame","setIsEnd","playerMode","setPlayerMode","nameForPlayer1","nameForPlayer2","player1Score","setPlayer1Score","player2Score","setPlayer2Score","highScores","setHighScores","getAndSetHighScores","isP1HighScore","setIsP1HighScore","isP2HighScore","setIsP2HighScore","eliminateScorerFromTopTen","scorerId","delete","then","response","console","log","catch","error","postScorerToTopTen","player","player1or2","post","name","score","date","determineScoresToPost","p1","p2","tempScores","slice","sort","a","b","topTen","whoMadeTheTopTen","filter","hasOwnProperty","postScores","_id","liminateScorerFromTopTen","scores","forEach","length","getTheDate","today","Date","month","String","getMonth","year","getFullYear","restart","endOfGameMessage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport \"../styles/EndGame.scss\";\r\n\r\nexport default function EndGame({\r\n  setIsEnd,\r\n  playerMode,\r\n  setPlayerMode,\r\n  nameForPlayer1,\r\n  nameForPlayer2,\r\n  player1Score,\r\n  setPlayer1Score,\r\n  player2Score,\r\n  setPlayer2Score,\r\n  highScores,\r\n  setHighScores,\r\n  getAndSetHighScores,\r\n}) {\r\n  const [isP1HighScore, setIsP1HighScore] = useState(false); // When true will notify of new high score\r\n  const [isP2HighScore, setIsP2HighScore] = useState(false); // When true will notify of new high score\r\n\r\n  // API REQUEST FUNCTIONS\r\n  const eliminateScorerFromTopTen = (scorerId) => {\r\n    axios\r\n      .delete(`https://thinkfast-api.herokuapp.com/scores/${scorerId}`)\r\n      .then(function (response) {\r\n        console.log(`${scorerId} has been deleted (p1)`);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const postScorerToTopTen = (player, player1or2) => {\r\n    axios\r\n      .post(\"https://thinkfast-api.herokuapp.com/scores\", {\r\n        name: player.name,\r\n        score: player.score,\r\n        date: player.date,\r\n      })\r\n      .then(function (response) {\r\n        console.log(`High score posted for ${player.name}`);\r\n        if (player1or2 === 1) {\r\n          setIsP1HighScore(true);\r\n        } else {\r\n          setIsP2HighScore(true);\r\n        }\r\n        getAndSetHighScores(setHighScores);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  // FUNCTIONS DEALING WITH HIGH SCORES\r\n  // If in 2 player mode and both score higher than the 10th place score\r\n  const determineScoresToPost = (p1, p2) => {\r\n    let tempScores = highScores.slice();\r\n    tempScores = [...tempScores, p1, p2];\r\n    tempScores.sort((a, b) => b.score - a.score);\r\n    let topTen = tempScores.slice(0, 10);\r\n    let whoMadeTheTopTen = topTen.filter(\r\n      (score) => !score.hasOwnProperty(\"_id\")\r\n    );\r\n\r\n    if (postScores(whoMadeTheTopTen) === 2) {\r\n      console.log(\"Delete:\", tempScores[10], tempScores[11]);\r\n      eliminateScorerFromTopTen(tempScores[10]._id);\r\n      eliminateScorerFromTopTen(tempScores[11]._id);\r\n    } else {\r\n      console.log(\"Delete:\", tempScores[11]);\r\n      liminateScorerFromTopTen(tempScores[11]._id);\r\n    }\r\n  };\r\n\r\n  const postScores = (scores) => {\r\n    scores.forEach((score) => console.log(\"Post:\", score));\r\n    return scores.length;\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Get today's date and return as formatted string \"m/yy\"\r\n    const getTheDate = () => {\r\n      let today = new Date();\r\n      let month = String(today.getMonth() + 1);\r\n      let year = String(today.getFullYear()).slice(-2);\r\n      return `${month}/${year}`;\r\n    };\r\n\r\n    if (\r\n      playerMode === 2 &&\r\n      player1Score > highScores[9].score &&\r\n      player2Score > highScores[9].score\r\n    ) {\r\n    }\r\n  }, [nameForPlayer1]);\r\n\r\n  const restart = () => {\r\n    setIsEnd(false);\r\n    setPlayer1Score(0);\r\n    setPlayer2Score(0);\r\n    setIsP1HighScore(false);\r\n    setIsP2HighScore(false);\r\n    setPlayerMode(null);\r\n  };\r\n\r\n  // MESSAGING FOR END OF GAME (DEPENDS ON PLAYER MODE AND PLAYER'S SCORE)\r\n  let endOfGameMessage;\r\n\r\n  // 1 Player Mode\r\n  if (playerMode === 1 && player1Score < 0) {\r\n    endOfGameMessage = (\r\n      <div className=\"farewell-message\">\r\n        <h1>You are such a negative person!</h1>\r\n        <p>{`You scored ${player1Score} points.`}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (playerMode === 1 && player1Score > 0 && player1Score <= 25) {\r\n    endOfGameMessage = (\r\n      <div className=\"farewell-message\">\r\n        <h1>You need a lot more practice!</h1>\r\n        <p>{`You only scored ${player1Score} points.`}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (playerMode === 1 && player1Score > 25 && player1Score <= 50) {\r\n    endOfGameMessage = (\r\n      <div className=\"farewell-message\">\r\n        <h1>You are not too bad at this!</h1>\r\n        <p>{`You scored ${player1Score} points.`}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (playerMode === 1 && player1Score > 50) {\r\n    endOfGameMessage = (\r\n      <div className=\"farewell-message\">\r\n        <h1>You have acheived greatness!</h1>\r\n        <p>{`You scored ${player1Score} points.`}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // 2 Player Mode\r\n  if (playerMode === 2 && player1Score === player2Score) {\r\n    endOfGameMessage = (\r\n      <div className=\"farewell-message\">\r\n        <h1>Wow! It is a draw. </h1>\r\n        <p>{`You both scored ${player1Score} points.`}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (playerMode === 2 && player1Score > player2Score) {\r\n    endOfGameMessage = (\r\n      <div className=\"farewell-message\">\r\n        <h1>Player 1</h1>\r\n        <h2>wins the game!!</h2>\r\n        <p>{`Beating the competition by ${\r\n          player1Score - player2Score\r\n        } points.`}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (playerMode === 2 && player1Score < player2Score) {\r\n    endOfGameMessage = (\r\n      <div className=\"farewell-message\">\r\n        <h1>Player 2</h1>\r\n        <h2>wins the game!!</h2>\r\n        <p>{`Beating the competition by ${\r\n          player2Score - player1Score\r\n        } points.`}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div id=\"end-game\">\r\n      {endOfGameMessage}\r\n      {isP1HighScore && isP2HighScore ? (\r\n        <h3 className=\"top-score-message\">\r\n          Congratulations {nameForPlayer1} and {nameForPlayer2}, you are both\r\n          Top 10 Scorers!!\r\n        </h3>\r\n      ) : isP1HighScore ? (\r\n        <h3 className=\"top-score-message\">\r\n          Congratulations {nameForPlayer1}, you are a Top 10 Scorer!!\r\n        </h3>\r\n      ) : isP2HighScore ? (\r\n        <h3 className=\"top-score-message\">\r\n          Congratulations {nameForPlayer2}, you are a Top 10 Scorer!!\r\n        </h3>\r\n      ) : null}\r\n\r\n      <button onClick={() => restart()}>Play Again?</button>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}