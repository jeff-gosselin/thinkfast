{"ast":null,"code":"import { useState, useEffect } from 'react';\nexport function useMediaControls(element) {\n  var _useState = useState(null),\n      currentTime = _useState[0],\n      setCurrentTime = _useState[1];\n\n  var _useState2 = useState(null),\n      muted = _useState2[0],\n      setMuted = _useState2[1];\n\n  var _useState3 = useState(null),\n      paused = _useState3[0],\n      setPaused = _useState3[1];\n\n  var _useState4 = useState(null),\n      volume = _useState4[0],\n      adjustVolume = _useState4[1];\n\n  var _useState5 = useState(null),\n      cachedVolume = _useState5[0],\n      setCachedVolume = _useState5[1];\n\n  function pause() {\n    element.current.pause();\n  }\n\n  function play() {\n    return element.current.play();\n  }\n\n  function setVolume(value) {\n    var volume = void 0;\n\n    if (value < 0) {\n      volume = 0;\n    } else if (value > 1) {\n      volume = 1;\n    } else {\n      volume = value;\n    }\n\n    if (volume === 0) {\n      setCachedVolume(element.current.volume);\n      mute();\n    } else {\n      unmute();\n    }\n\n    element.current.volume = volume;\n  }\n\n  function mute() {\n    element.current.muted = true;\n  }\n\n  function unmute() {\n    element.current.muted = false;\n\n    if (cachedVolume) {\n      element.current.volume = cachedVolume;\n      setCachedVolume(null);\n    }\n  }\n\n  function seek(value) {\n    element.current.currentTime = value;\n  }\n\n  function stop() {\n    pause();\n    seek(0);\n  }\n\n  function restart() {\n    seek(0);\n    return play();\n  }\n\n  useEffect(function () {\n    var currEl = element.current;\n\n    var isPaused = function isPaused() {\n      return currEl.paused || currEl.ended;\n    };\n\n    setCurrentTime(currEl.currentTime);\n    setPaused(isPaused());\n    adjustVolume(currEl.volume);\n    setMuted(currEl.muted);\n\n    var playPauseHandler = function playPauseHandler() {\n      return setPaused(isPaused());\n    };\n\n    currEl.addEventListener('play', playPauseHandler); // fired by play method or autoplay attribute\n\n    currEl.addEventListener('playing', playPauseHandler); // fired by resume after being paused due to lack of data\n\n    currEl.addEventListener('pause', playPauseHandler); // fired by pause method\n\n    currEl.addEventListener('waiting', playPauseHandler); // fired by pause due to lack of data\n\n    var volumeHandler = function volumeHandler() {\n      setMuted(currEl.muted);\n      adjustVolume(currEl.volume);\n    };\n\n    currEl.addEventListener('volumechange', volumeHandler); // fired by a change of volume\n\n    var seekHandler = function seekHandler() {\n      return setCurrentTime(currEl.currentTime);\n    };\n\n    currEl.addEventListener('seeked', seekHandler); // fired on seek completed\n\n    currEl.addEventListener('timeupdate', seekHandler); // fired on currentTime update\n\n    return function () {\n      currEl.removeEventListener('play', playPauseHandler);\n      currEl.removeEventListener('playing', playPauseHandler);\n      currEl.removeEventListener('pause', playPauseHandler);\n      currEl.removeEventListener('waiting', playPauseHandler);\n      currEl.removeEventListener('volumechange', volumeHandler);\n      currEl.removeEventListener('seeked', seekHandler);\n      currEl.removeEventListener('timeupdate', seekHandler);\n    };\n  }, [element, muted]);\n  return {\n    currentTime: currentTime,\n    mute: mute,\n    muted: muted,\n    unmute: unmute,\n    pause: pause,\n    paused: paused,\n    play: play,\n    restart: restart,\n    seek: seek,\n    setVolume: setVolume,\n    stop: stop,\n    volume: volume\n  };\n}","map":{"version":3,"sources":["/Users/meghangosselin/Apps/thinkfast/node_modules/react-browser-hooks/es/hooks/media-controls.js"],"names":["useState","useEffect","useMediaControls","element","_useState","currentTime","setCurrentTime","_useState2","muted","setMuted","_useState3","paused","setPaused","_useState4","volume","adjustVolume","_useState5","cachedVolume","setCachedVolume","pause","current","play","setVolume","value","mute","unmute","seek","stop","restart","currEl","isPaused","ended","playPauseHandler","addEventListener","volumeHandler","seekHandler","removeEventListener"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAO,SAASC,gBAAT,CAA0BC,OAA1B,EAAmC;AACxC,MAAIC,SAAS,GAAGJ,QAAQ,CAAC,IAAD,CAAxB;AAAA,MACIK,WAAW,GAAGD,SAAS,CAAC,CAAD,CAD3B;AAAA,MAEIE,cAAc,GAAGF,SAAS,CAAC,CAAD,CAF9B;;AAIA,MAAIG,UAAU,GAAGP,QAAQ,CAAC,IAAD,CAAzB;AAAA,MACIQ,KAAK,GAAGD,UAAU,CAAC,CAAD,CADtB;AAAA,MAEIE,QAAQ,GAAGF,UAAU,CAAC,CAAD,CAFzB;;AAIA,MAAIG,UAAU,GAAGV,QAAQ,CAAC,IAAD,CAAzB;AAAA,MACIW,MAAM,GAAGD,UAAU,CAAC,CAAD,CADvB;AAAA,MAEIE,SAAS,GAAGF,UAAU,CAAC,CAAD,CAF1B;;AAIA,MAAIG,UAAU,GAAGb,QAAQ,CAAC,IAAD,CAAzB;AAAA,MACIc,MAAM,GAAGD,UAAU,CAAC,CAAD,CADvB;AAAA,MAEIE,YAAY,GAAGF,UAAU,CAAC,CAAD,CAF7B;;AAIA,MAAIG,UAAU,GAAGhB,QAAQ,CAAC,IAAD,CAAzB;AAAA,MACIiB,YAAY,GAAGD,UAAU,CAAC,CAAD,CAD7B;AAAA,MAEIE,eAAe,GAAGF,UAAU,CAAC,CAAD,CAFhC;;AAIA,WAASG,KAAT,GAAiB;AACfhB,IAAAA,OAAO,CAACiB,OAAR,CAAgBD,KAAhB;AACD;;AAED,WAASE,IAAT,GAAgB;AACd,WAAOlB,OAAO,CAACiB,OAAR,CAAgBC,IAAhB,EAAP;AACD;;AAED,WAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,QAAIT,MAAM,GAAG,KAAK,CAAlB;;AAEA,QAAIS,KAAK,GAAG,CAAZ,EAAe;AACbT,MAAAA,MAAM,GAAG,CAAT;AACD,KAFD,MAEO,IAAIS,KAAK,GAAG,CAAZ,EAAe;AACpBT,MAAAA,MAAM,GAAG,CAAT;AACD,KAFM,MAEA;AACLA,MAAAA,MAAM,GAAGS,KAAT;AACD;;AAED,QAAIT,MAAM,KAAK,CAAf,EAAkB;AAChBI,MAAAA,eAAe,CAACf,OAAO,CAACiB,OAAR,CAAgBN,MAAjB,CAAf;AACAU,MAAAA,IAAI;AACL,KAHD,MAGO;AACLC,MAAAA,MAAM;AACP;;AAEDtB,IAAAA,OAAO,CAACiB,OAAR,CAAgBN,MAAhB,GAAyBA,MAAzB;AACD;;AAED,WAASU,IAAT,GAAgB;AACdrB,IAAAA,OAAO,CAACiB,OAAR,CAAgBZ,KAAhB,GAAwB,IAAxB;AACD;;AAED,WAASiB,MAAT,GAAkB;AAChBtB,IAAAA,OAAO,CAACiB,OAAR,CAAgBZ,KAAhB,GAAwB,KAAxB;;AACA,QAAIS,YAAJ,EAAkB;AAChBd,MAAAA,OAAO,CAACiB,OAAR,CAAgBN,MAAhB,GAAyBG,YAAzB;AACAC,MAAAA,eAAe,CAAC,IAAD,CAAf;AACD;AACF;;AAED,WAASQ,IAAT,CAAcH,KAAd,EAAqB;AACnBpB,IAAAA,OAAO,CAACiB,OAAR,CAAgBf,WAAhB,GAA8BkB,KAA9B;AACD;;AAED,WAASI,IAAT,GAAgB;AACdR,IAAAA,KAAK;AACLO,IAAAA,IAAI,CAAC,CAAD,CAAJ;AACD;;AAED,WAASE,OAAT,GAAmB;AACjBF,IAAAA,IAAI,CAAC,CAAD,CAAJ;AACA,WAAOL,IAAI,EAAX;AACD;;AAEDpB,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAI4B,MAAM,GAAG1B,OAAO,CAACiB,OAArB;;AACA,QAAIU,QAAQ,GAAG,SAASA,QAAT,GAAoB;AACjC,aAAOD,MAAM,CAAClB,MAAP,IAAiBkB,MAAM,CAACE,KAA/B;AACD,KAFD;;AAIAzB,IAAAA,cAAc,CAACuB,MAAM,CAACxB,WAAR,CAAd;AACAO,IAAAA,SAAS,CAACkB,QAAQ,EAAT,CAAT;AACAf,IAAAA,YAAY,CAACc,MAAM,CAACf,MAAR,CAAZ;AACAL,IAAAA,QAAQ,CAACoB,MAAM,CAACrB,KAAR,CAAR;;AAEA,QAAIwB,gBAAgB,GAAG,SAASA,gBAAT,GAA4B;AACjD,aAAOpB,SAAS,CAACkB,QAAQ,EAAT,CAAhB;AACD,KAFD;;AAGAD,IAAAA,MAAM,CAACI,gBAAP,CAAwB,MAAxB,EAAgCD,gBAAhC,EAdoB,CAc+B;;AACnDH,IAAAA,MAAM,CAACI,gBAAP,CAAwB,SAAxB,EAAmCD,gBAAnC,EAfoB,CAekC;;AACtDH,IAAAA,MAAM,CAACI,gBAAP,CAAwB,OAAxB,EAAiCD,gBAAjC,EAhBoB,CAgBgC;;AACpDH,IAAAA,MAAM,CAACI,gBAAP,CAAwB,SAAxB,EAAmCD,gBAAnC,EAjBoB,CAiBkC;;AAEtD,QAAIE,aAAa,GAAG,SAASA,aAAT,GAAyB;AAC3CzB,MAAAA,QAAQ,CAACoB,MAAM,CAACrB,KAAR,CAAR;AACAO,MAAAA,YAAY,CAACc,MAAM,CAACf,MAAR,CAAZ;AACD,KAHD;;AAIAe,IAAAA,MAAM,CAACI,gBAAP,CAAwB,cAAxB,EAAwCC,aAAxC,EAvBoB,CAuBoC;;AAExD,QAAIC,WAAW,GAAG,SAASA,WAAT,GAAuB;AACvC,aAAO7B,cAAc,CAACuB,MAAM,CAACxB,WAAR,CAArB;AACD,KAFD;;AAGAwB,IAAAA,MAAM,CAACI,gBAAP,CAAwB,QAAxB,EAAkCE,WAAlC,EA5BoB,CA4B4B;;AAChDN,IAAAA,MAAM,CAACI,gBAAP,CAAwB,YAAxB,EAAsCE,WAAtC,EA7BoB,CA6BgC;;AAEpD,WAAO,YAAY;AACjBN,MAAAA,MAAM,CAACO,mBAAP,CAA2B,MAA3B,EAAmCJ,gBAAnC;AACAH,MAAAA,MAAM,CAACO,mBAAP,CAA2B,SAA3B,EAAsCJ,gBAAtC;AACAH,MAAAA,MAAM,CAACO,mBAAP,CAA2B,OAA3B,EAAoCJ,gBAApC;AACAH,MAAAA,MAAM,CAACO,mBAAP,CAA2B,SAA3B,EAAsCJ,gBAAtC;AAEAH,MAAAA,MAAM,CAACO,mBAAP,CAA2B,cAA3B,EAA2CF,aAA3C;AAEAL,MAAAA,MAAM,CAACO,mBAAP,CAA2B,QAA3B,EAAqCD,WAArC;AACAN,MAAAA,MAAM,CAACO,mBAAP,CAA2B,YAA3B,EAAyCD,WAAzC;AACD,KAVD;AAWD,GA1CQ,EA0CN,CAAChC,OAAD,EAAUK,KAAV,CA1CM,CAAT;AA4CA,SAAO;AACLH,IAAAA,WAAW,EAAEA,WADR;AAELmB,IAAAA,IAAI,EAAEA,IAFD;AAGLhB,IAAAA,KAAK,EAAEA,KAHF;AAILiB,IAAAA,MAAM,EAAEA,MAJH;AAKLN,IAAAA,KAAK,EAAEA,KALF;AAMLR,IAAAA,MAAM,EAAEA,MANH;AAOLU,IAAAA,IAAI,EAAEA,IAPD;AAQLO,IAAAA,OAAO,EAAEA,OARJ;AASLF,IAAAA,IAAI,EAAEA,IATD;AAULJ,IAAAA,SAAS,EAAEA,SAVN;AAWLK,IAAAA,IAAI,EAAEA,IAXD;AAYLb,IAAAA,MAAM,EAAEA;AAZH,GAAP;AAcD","sourcesContent":["import { useState, useEffect } from 'react';\n\nexport function useMediaControls(element) {\n  var _useState = useState(null),\n      currentTime = _useState[0],\n      setCurrentTime = _useState[1];\n\n  var _useState2 = useState(null),\n      muted = _useState2[0],\n      setMuted = _useState2[1];\n\n  var _useState3 = useState(null),\n      paused = _useState3[0],\n      setPaused = _useState3[1];\n\n  var _useState4 = useState(null),\n      volume = _useState4[0],\n      adjustVolume = _useState4[1];\n\n  var _useState5 = useState(null),\n      cachedVolume = _useState5[0],\n      setCachedVolume = _useState5[1];\n\n  function pause() {\n    element.current.pause();\n  }\n\n  function play() {\n    return element.current.play();\n  }\n\n  function setVolume(value) {\n    var volume = void 0;\n\n    if (value < 0) {\n      volume = 0;\n    } else if (value > 1) {\n      volume = 1;\n    } else {\n      volume = value;\n    }\n\n    if (volume === 0) {\n      setCachedVolume(element.current.volume);\n      mute();\n    } else {\n      unmute();\n    }\n\n    element.current.volume = volume;\n  }\n\n  function mute() {\n    element.current.muted = true;\n  }\n\n  function unmute() {\n    element.current.muted = false;\n    if (cachedVolume) {\n      element.current.volume = cachedVolume;\n      setCachedVolume(null);\n    }\n  }\n\n  function seek(value) {\n    element.current.currentTime = value;\n  }\n\n  function stop() {\n    pause();\n    seek(0);\n  }\n\n  function restart() {\n    seek(0);\n    return play();\n  }\n\n  useEffect(function () {\n    var currEl = element.current;\n    var isPaused = function isPaused() {\n      return currEl.paused || currEl.ended;\n    };\n\n    setCurrentTime(currEl.currentTime);\n    setPaused(isPaused());\n    adjustVolume(currEl.volume);\n    setMuted(currEl.muted);\n\n    var playPauseHandler = function playPauseHandler() {\n      return setPaused(isPaused());\n    };\n    currEl.addEventListener('play', playPauseHandler); // fired by play method or autoplay attribute\n    currEl.addEventListener('playing', playPauseHandler); // fired by resume after being paused due to lack of data\n    currEl.addEventListener('pause', playPauseHandler); // fired by pause method\n    currEl.addEventListener('waiting', playPauseHandler); // fired by pause due to lack of data\n\n    var volumeHandler = function volumeHandler() {\n      setMuted(currEl.muted);\n      adjustVolume(currEl.volume);\n    };\n    currEl.addEventListener('volumechange', volumeHandler); // fired by a change of volume\n\n    var seekHandler = function seekHandler() {\n      return setCurrentTime(currEl.currentTime);\n    };\n    currEl.addEventListener('seeked', seekHandler); // fired on seek completed\n    currEl.addEventListener('timeupdate', seekHandler); // fired on currentTime update\n\n    return function () {\n      currEl.removeEventListener('play', playPauseHandler);\n      currEl.removeEventListener('playing', playPauseHandler);\n      currEl.removeEventListener('pause', playPauseHandler);\n      currEl.removeEventListener('waiting', playPauseHandler);\n\n      currEl.removeEventListener('volumechange', volumeHandler);\n\n      currEl.removeEventListener('seeked', seekHandler);\n      currEl.removeEventListener('timeupdate', seekHandler);\n    };\n  }, [element, muted]);\n\n  return {\n    currentTime: currentTime,\n    mute: mute,\n    muted: muted,\n    unmute: unmute,\n    pause: pause,\n    paused: paused,\n    play: play,\n    restart: restart,\n    seek: seek,\n    setVolume: setVolume,\n    stop: stop,\n    volume: volume\n  };\n}"]},"metadata":{},"sourceType":"module"}